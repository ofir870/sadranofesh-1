{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\src\\\\pages\\\\OrdersHistory.jsx\";\nimport React, { Component } from 'react';\nimport api from '../api';\nimport { NavBar } from './../components';\nexport default class OrdersHistory extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      await api.getOrders().then(orders => {\n        if (orders === []) this.setState({\n          orders: orders.data.data\n        });\n        console.log(' Aproved-orders-List -> render -> orders', orders);\n      });\n    };\n\n    this.state = {\n      orders: []\n    };\n  }\n\n  deleteOrder(id) {\n    api.deleteOrderById(id).then(() => {\n      let index = this.state.orders.findIndex(order => order.id = id);\n      let array = this.state.orders;\n      array.splice(index, 1);\n      this.setState({\n        orders: array\n      });\n    });\n  }\n\n  renderTableData() {\n    return this.state.orders.map((orders, index) => {\n      const startDate = orders.startDate,\n            endDate = orders.endDate,\n            userName = orders.userName,\n            aproved = orders.aproved,\n            note = orders.note,\n            createdAt = orders.createdAt,\n            _id = orders._id; //destructuring\n\n      return React.createElement(\"tr\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, index + 1), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, startDate), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, endDate), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, userName), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, note), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, aproved), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, createdAt), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onClick: () => this.deleteOrder(_id),\n        type: \"button\",\n        value: \"\\u05D1\\u05D8\\u05DC\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })));\n    });\n  }\n\n  renderTableHeader() {\n    let header = [\"מספר \", \"תראיך התחלה\", \"תאריך סיום\", \"שם משתמש\", \" הודעה\", \"האם ההזמנה אושרה\", \"תאריך הזמנה\"];\n    return header.map((key, index) => {\n      return React.createElement(\"th\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, key.toUpperCase());\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"\\u05D4\\u05D9\\u05E1\\u05D8\\u05D5\\u05E8\\u05D9\\u05D9\\u05EA \\u05D4\\u05D6\\u05DE\\u05E0\\u05D5\\u05EA\"), React.createElement(\"table\", {\n      id: \"users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, this.renderTableHeader()), this.renderTableData())));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ofir/Documents/GitHub/sadranofesh-1/client/src/pages/OrdersHistory.jsx"],"names":["React","Component","api","NavBar","OrdersHistory","constructor","props","componentDidMount","getOrders","then","orders","setState","data","console","log","state","deleteOrder","id","deleteOrderById","index","findIndex","order","array","splice","renderTableData","map","startDate","endDate","userName","aproved","note","createdAt","_id","renderTableHeader","header","key","toUpperCase","render"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport api from '../api'\r\nimport { NavBar } from './../components'\r\n\r\nexport default class OrdersHistory extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            orders: []\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        await api.getOrders().then(orders => {\r\n            if(orders===[])\r\n            this.setState({\r\n                orders: orders.data.data\r\n            })\r\n            console.log(' Aproved-orders-List -> render -> orders', orders)\r\n        })\r\n    }\r\n\r\n    deleteOrder(id) {\r\n        api.deleteOrderById(id).then(() => {\r\n            let index = this.state.orders.findIndex((order) => order.id = id)\r\n\r\n            let array = this.state.orders\r\n            array.splice(index, 1)\r\n            this.setState({\r\n                orders: array\r\n            })\r\n        })\r\n    }\r\n    renderTableData() {\r\n\r\n        return this.state.orders.map((orders, index) => {\r\n            const { startDate, endDate, userName, aproved, note, createdAt,_id } = orders //destructuring\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{startDate}</td>\r\n                    <td>{endDate}</td>\r\n                    <td>{userName}</td>\r\n                    <td>{note}</td>\r\n                    <td>{aproved}</td>\r\n                    <td>{createdAt}</td>\r\n                    <td><input onClick={() => this.deleteOrder(_id)} type=\"button\" value=\"בטל\" /></td>\r\n\r\n                    {/* <td  > <input onClick={() => this.deleteUser(_id)} type=\"button\" value=\"delete\" /></td> */}\r\n                </tr>\r\n            )\r\n        })\r\n\r\n    }\r\n\r\n    renderTableHeader() {\r\n        let header = [\"מספר \", \"תראיך התחלה\", \"תאריך סיום\", \"שם משתמש\", \" הודעה\", \"האם ההזמנה אושרה\", \"תאריך הזמנה\"]\r\n        return header.map((key, index) => {\r\n            return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n    }\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div>\r\n                <NavBar />\r\n                <h1 id='title'>היסטוריית הזמנות</h1>\r\n                <table id='users'>\r\n                    <tbody>\r\n                        <tr>{this.renderTableHeader()}</tr>\r\n                        {this.renderTableData()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}