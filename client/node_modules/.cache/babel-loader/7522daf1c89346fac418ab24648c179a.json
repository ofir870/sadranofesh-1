{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'../api';import'../style/ManageUsers.css';var Orders=/*#__PURE__*/function(_Component){_inherits(Orders,_Component);function Orders(props){var _this;_classCallCheck(this,Orders);_this=_possibleConstructorReturn(this,_getPrototypeOf(Orders).call(this,props));_this.componentDidMount=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(api.getNotAprovedOrders().then(function(orders){console.log(orders);_this.setState({orders:orders.data.data});console.log(' Aproved-orders-List -> render -> orders',orders);}));case 2:case\"end\":return _context.stop();}}});};_this.updateOrderTrue=function _callee2(id){var aproved,payload;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:aproved=\"true\";payload={aproved:aproved};_context2.next=4;return _regeneratorRuntime.awrap(api.ordersAproved(id,payload).then(function(res){var index=_this.state.orders.findIndex(function(order){return order.id=id;});var array=_this.state.orders;array.splice(index,1);_this.setState({orders:array});}));case 4:case\"end\":return _context2.stop();}}});};_this.updateOrderFalse=function _callee3(id){var aproved,payload;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:aproved=\"false\";payload={aproved:aproved};_context3.next=4;return _regeneratorRuntime.awrap(api.ordersAproved(id,payload).then(function(res){var index=_this.state.orders.findIndex(function(order){return order.id=id;});var array=_this.state.orders;array.splice(index,1);_this.setState({orders:array});}));case 4:case\"end\":return _context3.stop();}}});};_this.state={orders:[]};_this.updateOrderTrue=_this.updateOrderTrue.bind(_assertThisInitialized(_this));_this.orderNotAproved=_this.updateOrderFalse.bind(_assertThisInitialized(_this));return _this;}_createClass(Orders,[{key:\"renderTableData\",value:function renderTableData(){var _this2=this;return this.state.orders.map(function(orders,index){var _id=orders._id,startDate=orders.startDate,endDate=orders.endDate,userName=orders.userName,aproved=orders.aproved,note=orders.note,createdAt=orders.createdAt;//destructuring\nreturn React.createElement(\"tr\",{key:index},React.createElement(\"td\",null,index+1),React.createElement(\"td\",null,startDate),React.createElement(\"td\",null,endDate),React.createElement(\"td\",null,userName),React.createElement(\"td\",null,note),React.createElement(\"td\",null,aproved),React.createElement(\"td\",null,createdAt.split(\"T\")[0]),React.createElement(\"td\",null,\" \",React.createElement(\"input\",{onClick:function onClick(){return _this2.updateOrderTrue(_id,aproved);},type:\"button\",value:\"\\u05D0\\u05E9\\u05E8\"})),React.createElement(\"td\",null,\" \",React.createElement(\"input\",{onClick:function onClick(){return _this2.updateOrderFalse(_id,aproved);},type:\"button\",value:\"\\u05D1\\u05D8\\u05DC\"})));});}},{key:\"renderTableHeader\",value:function renderTableHeader(){var header=[\"מספר \",\"תראיך התחלה\",\"תאריך סיום\",\"שם משתמש\",\" הודעה\",\"האם ההזמנה אושרה\",\"תאריך הזמנה\",\"אשר\",\"בטל\"];return header.map(function(key,index){return React.createElement(\"th\",{key:index},key.toUpperCase());});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h1\",{id:\"title\"},\"  \\u05D4\\u05D6\\u05DE\\u05E0\\u05D5\\u05EA \\u05DC\\u05D0\\u05D9\\u05E9\\u05D5\\u05E8 \"),React.createElement(\"table\",{id:\"users\"},React.createElement(\"tbody\",null,React.createElement(\"tr\",null,this.renderTableHeader()),this.renderTableData())));}}]);return Orders;}(Component);export default Orders;","map":{"version":3,"sources":["C:/Users/Ofir/Documents/GitHub/sadranofesh-1/client/src/pages/Orders.jsx"],"names":["React","Component","api","Orders","props","componentDidMount","getNotAprovedOrders","then","orders","console","log","setState","data","updateOrderTrue","id","aproved","payload","ordersAproved","res","index","state","findIndex","order","array","splice","updateOrderFalse","bind","orderNotAproved","map","_id","startDate","endDate","userName","note","createdAt","split","header","key","toUpperCase","renderTableHeader","renderTableData"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport api from '../api'\r\nimport '../style/ManageUsers.css'\r\n\r\n\r\nclass Orders extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            orders: []\r\n        }\r\n        this.updateOrderTrue = this.updateOrderTrue.bind(this)\r\n        this.orderNotAproved = this.updateOrderFalse.bind(this)\r\n    }\r\n    componentDidMount = async () => {\r\n        await api.getNotAprovedOrders().then(orders => {\r\n            console.log(orders)\r\n\r\n            this.setState({\r\n                orders: orders.data.data\r\n\r\n            })\r\n\r\n\r\n            console.log(' Aproved-orders-List -> render -> orders', orders)\r\n        })\r\n    }\r\n\r\n\r\n    updateOrderTrue = async (id) => {\r\n\r\n        const aproved = \"true\"\r\n        const payload = { aproved }\r\n\r\n        await api.ordersAproved(id, payload).then(res => {\r\n\r\n            let index = this.state.orders.findIndex((order) => order.id = id)\r\n            let array = this.state.orders\r\n\r\n            array.splice(index, 1)\r\n\r\n            this.setState({\r\n                orders: array\r\n            })\r\n        })\r\n    }\r\n    updateOrderFalse = async (id) => {\r\n        const aproved = \"false\"\r\n        const payload = { aproved }\r\n\r\n        await api.ordersAproved(id, payload).then(res => {\r\n\r\n            let index = this.state.orders.findIndex((order) => order.id = id)\r\n            let array = this.state.orders\r\n\r\n            array.splice(index, 1)\r\n\r\n            this.setState({\r\n                orders: array\r\n            })\r\n        })\r\n    }\r\n\r\n    renderTableData() {\r\n        return this.state.orders.map((orders, index) => {\r\n            const { _id, startDate, endDate, userName, aproved, note, createdAt } = orders //destructuring\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{index + 1}</td>  \r\n                    <td>{startDate}</td>\r\n                    <td>{endDate}</td>\r\n                    <td>{userName}</td>\r\n                    <td>{note}</td>\r\n                    <td>{aproved}</td>\r\n                    <td>{createdAt.split(\"T\")[0]}</td>\r\n\r\n                    <td  > <input onClick={() => this.updateOrderTrue(_id, aproved)} type=\"button\" value=\"אשר\" /></td>\r\n                    <td  > <input onClick={() => this.updateOrderFalse(_id, aproved)} type=\"button\" value=\"בטל\" /></td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderTableHeader() {\r\n        let header = [\"מספר \", \"תראיך התחלה\", \"תאריך סיום\", \"שם משתמש\", \" הודעה\", \"האם ההזמנה אושרה\", \"תאריך הזמנה\", \"אשר\", \"בטל\"]\r\n        return header.map((key, index) => {\r\n            return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n    }\r\n    render() {\r\n\r\n\r\n        return (\r\n\r\n            <div>\r\n                <h1 id='title'>  הזמנות לאישור </h1>\r\n                <table id='users'>\r\n                    <tbody>\r\n                        <tr>{this.renderTableHeader()}</tr>\r\n                        {this.renderTableData()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Orders"]},"metadata":{},"sourceType":"module"}