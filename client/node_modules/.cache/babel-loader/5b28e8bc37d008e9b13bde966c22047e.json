{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\src\\\\pages\\\\ManageUsers.jsx\";\nimport React, { Component } from 'react';\nimport api from '../api';\nimport '../style/ManageUsers.css';\nimport { Link } from 'react-router-dom';\n\nclass GetUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      await api.getUsers().then(users => {\n        this.setState({\n          users: users.data.data\n        });\n        console.log(' usersList -> render -> users', users);\n      });\n    };\n\n    this.state = {\n      users: [],\n      columns: []\n    };\n    this.deleteUser = this.deleteUser.bind(this);\n  }\n\n  deleteUser(id) {\n    api.deleteUserById(id).then(() => {\n      let index = this.state.users.findIndex(user => user.id = id);\n      let array = this.state.users;\n      array.splice(index, 1);\n      this.setState({\n        users: array\n      });\n    });\n  }\n\n  renderTableData() {\n    return this.state.users.map((users, index) => {\n      const _id = users._id,\n            name = users.name,\n            password = users.password,\n            message = users.message; //destructuring\n\n      console.log(users);\n      return React.createElement(\"tr\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, index + 1), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, password), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, message), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" \", React.createElement(\"input\", {\n        onClick: () => this.deleteUser(_id),\n        type: \"button\",\n        value: \"delete\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })));\n    });\n  }\n\n  renderTableHeader() {\n    let header = [\" Id \", \"Name\", \"Password\", \"Message\", \" manage\"];\n    return header.map((key, index) => {\n      return React.createElement(\"th\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, key.toUpperCase());\n    });\n  }\n\n  render() {\n    const isUndfined = this.state.users;\n    console.log(isUndfined.length);\n\n    if (isUndfined > 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        id: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"\\u05D8\\u05D1\\u05DC\\u05EA \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\\u05D9\\u05DD\"), React.createElement(\"table\", {\n        id: \"users\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.renderTableHeader()), this.renderTableData())), React.createElement(Link, {\n        to: \"/admin/register\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"add User \")))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/admin/register\",\n        className: \"nav-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"add User \"))));\n    }\n  }\n\n}\n\nexport default GetUsers;","map":{"version":3,"sources":["C:/Users/Ofir/Documents/GitHub/sadranofesh-1/client/src/pages/ManageUsers.jsx"],"names":["React","Component","api","Link","GetUsers","constructor","props","componentDidMount","getUsers","then","users","setState","data","console","log","state","columns","deleteUser","bind","id","deleteUserById","index","findIndex","user","array","splice","renderTableData","map","_id","name","password","message","renderTableHeader","header","key","toUpperCase","render","isUndfined","length"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport api from '../api'\r\nimport '../style/ManageUsers.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass GetUsers extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            users: [],\r\n            columns: [],\r\n        }\r\n        this.deleteUser = this.deleteUser.bind(this)\r\n    }\r\n    componentDidMount = async () => {\r\n        await api.getUsers().then(users => {\r\n            this.setState({\r\n                users: users.data.data,\r\n            })\r\n            console.log(' usersList -> render -> users', users)\r\n        })\r\n    }\r\n\r\n    deleteUser(id) {\r\n        api.deleteUserById(id).then(() => {\r\n            let index = this.state.users.findIndex((user) => user.id = id)\r\n            let array = this.state.users\r\n            array.splice(index, 1)\r\n            this.setState({\r\n                users: array\r\n            })\r\n        })\r\n    }\r\n\r\n    renderTableData() {\r\n\r\n\r\n\r\n        return this.state.users.map((users, index) => {\r\n            const { _id, name, password, message } = users //destructuring\r\n            console.log(users)\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{name}</td>\r\n                    <td>{password}</td>\r\n                    <td>{message}</td>\r\n                    <td  > <input onClick={() => this.deleteUser(_id)} type=\"button\" value=\"delete\" /></td>\r\n                </tr>\r\n            )\r\n        })\r\n\r\n    }\r\n\r\n    renderTableHeader() {\r\n\r\n        let header = [\" Id \", \"Name\", \"Password\", \"Message\", \" manage\"]\r\n        return header.map((key, index) => {\r\n            return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const isUndfined = this.state.users\r\n        console.log(isUndfined.length)\r\n        if (isUndfined > 0) {\r\n            return (\r\n                <div>\r\n\r\n                    <div>\r\n                        <h1 id='title'>טבלת המשתמשים</h1>\r\n                        <table id='users'>\r\n                            <tbody>\r\n                                <tr>{this.renderTableHeader()}</tr>\r\n                                {this.renderTableData()}\r\n                            </tbody>\r\n                        </table>\r\n                        <Link to=\"/admin/register\" className=\"nav-link\">\r\n                            <button className=\"button\"><span>add User </span></button>\r\n                        </Link>\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <Link to=\"/admin/register\" className=\"nav-link\">\r\n                        <button className=\"button\"><span>add User </span></button>\r\n                    </Link>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\nexport default GetUsers"]},"metadata":{},"sourceType":"module"}