{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ofir\\\\Documents\\\\GitHub\\\\sadranofesh-1\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import api from'../api';import'../style/ManageUsers.css';import{Link}from'react-router-dom';var GetUsers=/*#__PURE__*/function(_Component){_inherits(GetUsers,_Component);function GetUsers(props){var _this;_classCallCheck(this,GetUsers);_this=_possibleConstructorReturn(this,_getPrototypeOf(GetUsers).call(this,props));_this.componentDidMount=function _callee(){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(api.getUsers().then(function(users){_this.setState({users:users.data.data});console.log(' usersList -> render -> users',users);}));case 2:case\"end\":return _context.stop();}}});};_this.state={users:[],columns:[]};_this.deleteUser=_this.deleteUser.bind(_assertThisInitialized(_this));return _this;}_createClass(GetUsers,[{key:\"deleteUser\",value:function deleteUser(id){var _this2=this;api.deleteUserById(id).then(function(){var index=_this2.state.users.findIndex(function(user){return user.id=id;});var array=_this2.state.users;array.splice(index,1);_this2.setState({users:array});});}},{key:\"renderTableData\",value:function renderTableData(){var _this3=this;return this.state.users.map(function(users,index){var _id=users._id,name=users.name,password=users.password,email=users.email,message=users.message;//destructuring\nconsole.log(users);return React.createElement(\"tr\",{key:index},React.createElement(\"td\",null,index+1),React.createElement(\"td\",null,name),React.createElement(\"td\",null,password),React.createElement(\"td\",null,message),React.createElement(\"td\",null,email),React.createElement(\"td\",null,\" \",React.createElement(\"input\",{onClick:function onClick(){return _this3.deleteUser(_id);},type:\"button\",value:\"delete\"})));});}},{key:\"renderTableHeader\",value:function renderTableHeader(){var header=[\" Id \",\"Name\",\"Password\",\"Message\",\"Email\",\" manage\"];return header.map(function(key,index){return React.createElement(\"th\",{key:index},key.toUpperCase());});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h1\",{id:\"title\"},\"\\u05D8\\u05D1\\u05DC\\u05EA \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\\u05D9\\u05DD\"),React.createElement(\"table\",{id:\"users\"},React.createElement(\"tbody\",null,React.createElement(\"tr\",null,this.renderTableHeader()),this.renderTableData())),React.createElement(Link,{to:\"/admin/register\",className:\"nav-link\"},React.createElement(\"button\",{className:\"button\"},React.createElement(\"span\",null,\"add User \"))));}}]);return GetUsers;}(Component);export default GetUsers;","map":{"version":3,"sources":["C:/Users/Ofir/Documents/GitHub/sadranofesh-1/client/src/pages/ManageUsers.jsx"],"names":["React","Component","api","Link","GetUsers","props","componentDidMount","getUsers","then","users","setState","data","console","log","state","columns","deleteUser","bind","id","deleteUserById","index","findIndex","user","array","splice","map","_id","name","password","email","message","header","key","toUpperCase","renderTableHeader","renderTableData"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react'\r\nimport api from '../api'\r\nimport '../style/ManageUsers.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass GetUsers extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            users: [],\r\n            columns: [],\r\n        }\r\n        this.deleteUser = this.deleteUser.bind(this)\r\n    }\r\n    componentDidMount = async () => {\r\n        await api.getUsers().then(users => {\r\n            this.setState({\r\n                users: users.data.data,\r\n            })\r\n            console.log(' usersList -> render -> users', users)\r\n        })\r\n    }\r\n\r\n    deleteUser(id) {\r\n        api.deleteUserById(id).then(() => {\r\n            let index = this.state.users.findIndex((user) => user.id = id)\r\n            let array = this.state.users\r\n            array.splice(index, 1)\r\n            this.setState({\r\n                users: array\r\n            })\r\n        })\r\n    }\r\n\r\n    renderTableData() {\r\n        return this.state.users.map((users, index) => {\r\n            const { _id, name, password, email, message } = users //destructuring\r\n            console.log(users)\r\n            return (\r\n                <tr key={index}>\r\n                    <td>{index + 1}</td>\r\n                    <td>{name}</td>\r\n                    <td>{password}</td>\r\n                    <td>{message}</td>\r\n                    <td>{email}</td>\r\n                    <td  > <input onClick={() => this.deleteUser(_id)} type=\"button\" value=\"delete\" /></td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n\r\n    renderTableHeader() {\r\n        let header = [\" Id \", \"Name\", \"Password\", \"Message\", \"Email\", \" manage\"]\r\n        return header.map((key, index) => {\r\n            return <th key={index}>{key.toUpperCase()}</th>\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1 id='title'>טבלת המשתמשים</h1>\r\n                <table id='users'>\r\n                    <tbody>\r\n                        <tr>{this.renderTableHeader()}</tr>\r\n                        {this.renderTableData()}\r\n                    </tbody>\r\n                </table>\r\n                <Link to=\"/admin/register\" className=\"nav-link\">\r\n                    <button className=\"button\"><span>add User </span></button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default GetUsers"]},"metadata":{},"sourceType":"module"}